--Example 
SELECT * FROM Members WHERE memberID = 'MEM11';

--Procedure
CREATE OR REPLACE PROCEDURE prc_update_member_status(
    p_memberID IN CHAR
) IS
    v_status Members.membershipStatus%TYPE;
BEGIN
    -- Check if member exists and retrieve current status
    SELECT membershipStatus INTO v_status
    FROM Members
    WHERE memberID = p_memberID;

    -- Handle different status cases
    IF v_status = 'Active' THEN
        DBMS_OUTPUT.PUT_LINE('Error: Member ID ' || p_memberID || ' is already Active.');
        RETURN;
    ELSIF v_status = 'Disable' THEN
        -- Update to Active and extend expiry date
        UPDATE Members
        SET membershipStatus = 'Active',
            expiryDate = SYSDATE + 90
        WHERE memberID = p_memberID;

        COMMIT;

        DBMS_OUTPUT.PUT_LINE('Member ID ' || p_memberID || ' has been reactivated. New expiry date is ' || TO_CHAR(SYSDATE + 90, 'DD-MM-YYYY'));
    END IF;

EXCEPTION
    WHEN NO_DATA_FOUND THEN
        DBMS_OUTPUT.PUT_LINE('Error: Member ID ' || p_memberID || ' does not exist.');
END;
/

SET SERVEROUTPUT ON;
EXEC prc_update_member_status('MEM11');

--Example 
SELECT * FROM Members WHERE memberID = 'MEM11';
